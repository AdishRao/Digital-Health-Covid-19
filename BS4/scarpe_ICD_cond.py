import requests
from bs4 import BeautifulSoup


headers = {
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Methods': 'GET',
    'Access-Control-Allow-Headers': 'Content-Type',
    'Access-Control-Max-Age': '3600',
    'User-Agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0'
}

codes = ['477.9',
         'J30.9',
         '465.9',
         'R42',
         'N39.0',
         'J06.9',
         '530.81',
         'H53.8',
         'E66.01',
         'B34.9',
         'L30.9',
         'M54.2',
         'R07.9',
         'M54.9',
         '729.5',
         'R10.32',
         'N89.8',
         'R10.13',
         'R10.9',
         'J20.9',
         'R06.02',
         'F41.1',
         'G89.29',
         'E53.8',
         'Z98.890',
         'F41.9',
         'O99.89',
         'M79.671',
         'Z37.0',
         'K92.1',
         'R10.2',
         'F90.0',
         'O09.92',
         '780.79',
         'F32.9',
         'J45.909',
         'R00.2',
         'I10',
         'E78.5',
         'R91.8',
         'N40.1',
         'U07.1',
         'Z99.81',
         'O34.219',
         'G89.18',
         'O09.93',
         'M25.511',
         'R21',
         'J12.89',
         'R51',
         'M79.672',
         'R07.89',
         '789.00',
         'I50.30',
         'M79.10',
         'M25.562',
         'M79.7',
         'R92.1',
         'K21.00',
         'R11.0',
         'R94.31',
         'R53.83',
         '462',
         'R11.2',
         'G25.81',
         'M25.571',
         'M81.0',
         '244.9',
         'L57.0',
         'E03.9',
         'M62.838',
         'N30.00',
         '724.2',
         'M54.5',
         'R30.0',
         'R35.0',
         'J30.1',
         '493.90',
         '401.9',
         'L82.1',
         'N40.0',
         'R05',
         'J40',
         'Z99.89',
         'R73.09',
         'L57.8',
         '300.00',
         '719.46',
         'L81.4',
         'D22.9',
         'R68.89',
         'R51.9',
         'E04.2',
         'L98.9',
         '786.50',
         '719.41',
         'N28.1',
         'K80.20',
         'K62.5',
         'J18.9',
         'I48.91',
         'R55',
         'E86.0',
         'R53.1',
         'D72.829',
         '285.9',
         'V45.89',
         'I36.1',
         'K57.30',
         'R00.1',
         'M25.552',
         'M25.551',
         'E11.9',
         'I21.4',
         'I12.9',
         'I34.0',
         'L29.9',
         'M54.6',
         'F32.89',
         'K21.9',
         'J81.1',
         '724.5',
         'L70.0',
         '486',
         'M25.512',
         '272.4',
         'B35.1',
         '786.2',
         'R06.2',
         '338.29',
         'R60.0',
         'J02.9',
         '729.1',
         'R53.82',
         'B37.3',
         'N93.9',
         'E66.9',
         'E78.2',
         'J34.89',
         'G47.33',
         'I49.3',
         'R73.03',
         'F90.2',
         'J98.4',
         'R00.0',
         'R06.89',
         'R11.10',
         'M79.18',
         'R52',
         '715.36',
         'A41.9',
         'C50.911',
         'B18.2',
         'R92.8',
         'F31.9',
         'D64.9',
         '715.96',
         'M17.11',
         'J96.01',
         'R73.9',
         'V22.1',
         'O09.523',
         'R13.10',
         '564.00',
         'M25.572',
         'M19.90',
         '174.9',
         'N17.9',
         'R10.84',
         '784.0',
         'E55.9',
         'N18.3',
         'M17.12',
         'D63.1',
         'M19.011',
         'E03.8',
         '401.1',
         '780.4',
         '278.00',
         'E66.09',
         'D50.9',
         '311',
         'F33.1',
         'M17.0',
         'M79.605',
         'F33.0',
         'R10.31',
         'K76.0',
         'K59.00',
         'E04.1',
         'R19.7',
         'K52.9',
         'E11.69',
         'E11.22',
         'E11.65',
         'J30.89',
         'R06.00',
         'E87.2',
         'R79.89',
         'G47.00',
         '272.0',
         'E78.00',
         'M10.9',
         'N18.2',
         'M25.561',
         'J45.20',
         'R10.30',
         '250.00',
         'M47.816',
         'E11.42',
         'N18.9',
         'K59.09',
         '723.1',
         'M79.2',
         'F17.210',
         'N18.30',
         'C50.912',
         'M79.89',
         'R50.9',
         'R22.0',
         'I51.7',
         'I50.9',
         'M51.36',
         'I25.10',
         'M54.41',
         'Z95.5',
         'O10.919',
         '787.01',
         'O99.013',
         'R78.81',
         'A41.89',
         'K92.2',
         'R65.21',
         'K44.9',
         'E11.8',
         '496',
         'J44.9',
         'J44.1',
         'J43.9',
         'J98.11',
         '428.0',
         'D62',
         'R41.82',
         'R09.02',
         '780.60',
         'I13.0',
         'I26.99',
         '585.6',
         '787.02',
         'C20',
         '599.0',
         '787.91',
         'R10.11',
         'F33.2',
         'M79.641',
         'N76.0',
         'R14.0',
         'F41.0',
         '786.09',
         'E87.1',
         'J02.0',
         'T14.8XXA',
         '250.02',
         'R80.9',
         'M89.9',
         'G93.41',
         'F10.10',
         'E83.42',
         'E79.0',
         '780.2',
         'R33.9',
         'N31.9',
         'J90',
         'F41.8',
         'O99.213',
         'D50.0',
         'I50.32',
         '790.29',
         '585.3',
         'M25.50',
         'G43.909',
         'E78.49',
         'D69.6',
         '782.3',
         '780.52',
         'F11.20',
         'G89.4',
         'R39.9',
         'F17.200',
         'R20.2',
         'M54.12',
         'F90.9',
         'R45.851',
         'R09.81',
         'I35.0',
         'R20.0',
         'G62.9',
         'Z95.2',
         'M47.812',
         'R18.8',
         'C61',
         'I48.92',
         'R01.1',
         'I95.9',
         'I50.20',
         'D50.8',
         'M48.02',
         'E87.6',
         'I11.0',
         'K74.60',
         'I50.22',
         'Z90.49',
         'J96.02',
         '786.05',
         'I25.2',
         'I50.33',
         'E87.8',
         'J96.21',
         'M85.80',
         'J84.9',
         'I27.20',
         'R65.20',
         'N18.6',
         'G93.40',
         'E87.70',
         'E87.5',
         'E83.39',
         'I12.0',
         'R09.89',
         'M62.81',
         'D25.9',
         '789.09',
         'N20.0',
         '427.31',
         'I48.0',
         'E11.40',
         '327.23',
         'M54.42',
         'M54.16',
         'E11.649',
         'E11.10',
         'R31.9',
         'K31.84',
         'D63.8',
         'N28.89',
         'M54.40',
         'Z91.09',
         'I50.23',
         'I50.21',
         'R60.9',
         'F10.20',
         'M53.3',
         '414.00',
         'J45.901',
         'R29.898',
         'J81.0',
         'L03.115',
         'I13.2',
         'R53.81',
         'G40.909',
         'E46',
         'H25.13',
         'F03.90',
         'J69.0',
         'E43',
         'N25.81',
         'D61.818',
         'F20.9',
         'E87.0',
         'J96.91',
         '585.9',
         'M25.531',
         'I42.9',
         'E10.65',
         'J30.2',
         'I73.9',
         'N17.0',
         'B96.89',
         'M51.37',
         '278.01',
         'R56.9',
         'I42.8',
         'N30.01',
         'L08.9',
         'R59.0',
         'J96.00',
         'I47.2',
         'M79.604',
         '280.9',
         'J45.40',
         'E11.51',
         'E11.621',
         'F79',
         'E29.1',
         '314.01',
         'B20',
         'I63.9',
         'R91.1',
         'I50.42',
         '305.1',
         'I25.5',
         'F51.01',
         '268.9',
         '715.90',
         'N18.5',
         'N18.4',
         'E11.21',
         'D57.00',
         'I47.1',
         'C90.00',
         'L03.116',
         'E11.00',
         'Z94.0',
         '719.45',
         'R73.01',
         'E83.30',
         'R82.90',
         'F43.10',
         'M06.9',
         'D57.1',
         'M32.9',
         'J80',
         'D84.9',
         'E89.0',
         'M19.012',
         'Z90.5',
         'I50.43',
         'Z94.2',
         'G82.20',
         'C34.90',
         'D57.01',
         '282.62',
         'Z94.1',
         'V42.0',
         'L89.154',
         'Z94.4',
         'M32.14',
         'Mechanical vent use - invasive',
         'Mechanical vent use - non-invasive']


result = {}
remainder = []


for code in codes:
    try:
        url = "https://icdcodelookup.com/icd-10/codes/" + code
        req = requests.get(url, headers)
        soup = BeautifulSoup(req.content, 'html.parser')
        # print(soup.prettify())

        result[code] = ((soup.find_all("span", class_="unbold"))[0]).text

    except:
        remainder.append(code)

# for k,v in result.items():
#    print(k, "\t:\t", v)

for i in remainder:
    print(i)
